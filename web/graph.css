:root,
#app {
  --bg-main: #16181d;
  --bg-main-100: #16181d69;
  --bg-panel: #20232b;
  --bg-panel-100: #34394660;
  --bg-panel-200: #4d55686b;
  --bg-chip: #282c35;
  --bg-chip-100: #3e435080;
  --bg-chip-200: #17191f54;
  --bg-popup: #2d313d;
  --bg-btn: #282c35;
  --bg-btn-soft: color-mix(
                        in srgb,
                        var(--bg-btn),
                        var(--accent) 25%
                      );
  --border: #17181a;
  --border-100: #232427;
  --border-200: #37393d83;
  --accent: #6247AA;
  --accent-100: #6147aab2;
  --accent-200: #6147aa80;
  --accent-300: #6147aa49;
  --text-main: #dbdbdb;
  --text-soft: #adadad;
  --radius-small: 10px;
  --radius-medium: 20px;
  --radius-large: 40px;
  --ok: #6ee7b7;
  --warn: #fbcb71;
  --danger: #fb7185;
  --bg-btn-rfs-border:#83601a;
  --bg-btn-rfs: #2d2210;
  --line: #1f2027;
  --accent-light: #A06CD5;
  --accent-lighter: #C19EE0;
  --bg-main-soft: #22252e;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  width: 100%;
  height: 100%;
  margin: 0;
}

body {
  font-family: "Bahnschrift", "Trebuchet MS", "Segoe UI", sans-serif;
  color: var(--text-main);
  background: var(--bg-main);
}

#app {
  position: fixed;
  inset: 0;
  display: flex;
  flex-direction: column;
  min-width: 0;
  min-height: 0;
}

.hidden {
  display: none !important;
}

.stack {
  display: grid;
  gap: 8px;
}

.line-item {
  display: flex;
  align-items: center;
  gap: 8px;
  border: 1px solid var(--border-100);
  border-radius: 8px;
  background: var(--bg-chip);
  padding: 5px 6px;
  font-size: 12px;
}

.control-row {
  display: grid;
  grid-template-columns: 1fr minmax(66px, auto);
  gap: 8px;
  align-items: center;
  border: 1px solid var(--border-100);
  border-radius: 8px;
  background: var(--bg-panel);
  padding: 5px 6px;
  font-size: 12px;
}
.control-row label {
  color: var(--text-soft);
  font-size: 11px;
}

.inline-pair {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
}

.inline-3 {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 6px;
}

.inline-4 {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  gap: 6px;
}

.field-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 6px;
}
.field-grid label {
  display: grid;
  gap: 4px;
  font-size: 11px;
  color: var(--text-soft);
}

.hint {
  margin: 0 0 8px 0;
  color: var(--text-soft);
  font-size: 11px;
}

.swatch {
  width: 10px;
  height: 10px;
  border-radius: 5px;
  border: 1px solid var(--border-dark);
}

.fancy button,
button {
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-btn);
  color: var(--text-main);
  padding: 8px 10px;
  font-size: 13px;
  box-shadow: 0px 2px 1px -1px rgba(20, 20, 20, 0.12), 0px 1px 1px 0px rgba(20, 20, 20, 0.06), 0px 1px 3px 0px rgba(20, 20, 20, 0.04);
  cursor: pointer;
  font-weight: 600;
}
.fancy button:hover, .fancy button:active,
button:hover,
button:active {
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-btn-soft);
  color: var(--text-main);
  padding: 8px 10px;
  font-size: 13px;
  box-shadow: 0px 2px 1px -1px rgba(20, 20, 20, 0.12), 0px 1px 1px 0px rgba(20, 20, 20, 0.06), 0px 1px 3px 0px rgba(20, 20, 20, 0.04);
}

input[type=text] {
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-chip);
  color: var(--text-main);
  padding: 8px 10px;
  font-size: 13px;
  box-shadow: 0px 2px 1px -1px rgba(20, 20, 20, 0.12), 0px 1px 1px 0px rgba(20, 20, 20, 0.06), 0px 1px 3px 0px rgba(20, 20, 20, 0.04);
  width: 100%;
}
input[type=text]:hover, input[type=text].active, input[type=text]:focus {
  border-radius: var(--radius-small);
  border: 1px solid var(--accent-200);
  background: var(--bg-chip);
  color: var(--text-main);
  padding: 8px 10px;
  font-size: 13px;
  box-shadow: 0px 2px 1px -1px rgba(20, 20, 20, 0.12), 0px 1px 1px 0px rgba(20, 20, 20, 0.06), 0px 1px 3px 0px rgba(20, 20, 20, 0.04);
  outline: none;
}

select::-webkit-scrollbar {
  width: 10px !important;
  background: transparent !important;
  margin: var(--radius-small) 0 !important;
}
select::-webkit-scrollbar-track {
  background: transparent !important;
  border-radius: 999px !important;
}
select::-webkit-scrollbar-thumb {
  background: var(--accent-200) !important;
  border-radius: 999px !important;
}
select::-webkit-scrollbar-button {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}
select {
  appearance: none;
  background-color: transparent;
  border: none;
  padding: 0 1em 0 0;
  margin: 0;
  width: 100%;
  font-family: inherit;
  font-size: inherit;
  cursor: inherit;
  line-height: inherit;
  outline: none;
  z-index: 1;
}
select::-ms-expand {
  display: none;
}

.select {
  border-radius: 7px;
  border: 1px solid var(--border-100);
  background-color: var(--bg-panel-100);
  color: var(--text-main);
  padding: 5px 6px;
  font-size: 12px;
  position: relative;
  display: grid;
  grid-template-areas: "select";
  align-items: center;
  cursor: pointer;
  line-height: 1.1;
}
.select select, .select::after {
  grid-area: select;
}
.select:not(.select--multiple)::after {
  content: "";
  grid-area: select;
  justify-self: end;
  width: 0.8em;
  height: 0.5em;
  background: var(--accent-100);
  clip-path: polygon(100% 0%, 0 0%, 50% 100%);
}
.select:not(.select--multiple) option {
  display: flex;
  justify-content: flex-start;
  background: var(--bg-panel);
  transition: 0.4s;
}

select:hover + .focus,
select:focus + .focus {
  position: absolute;
  top: -1px;
  left: -1px;
  right: -1px;
  bottom: -1px;
  border: 1px solid var(--accent-200);
  border-radius: inherit;
}

.select--multiple {
  padding: 0;
}

select[multiple]::-webkit-scrollbar {
  width: 10px !important;
  background: transparent !important;
  margin: var(--radius-small) 0 !important;
}
select[multiple]::-webkit-scrollbar-track {
  background: transparent !important;
  border-radius: 999px !important;
}
select[multiple]::-webkit-scrollbar-thumb {
  background: var(--accent-200) !important;
  border-radius: 999px !important;
}
select[multiple]::-webkit-scrollbar-button {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}
select[multiple] {
  border-radius: 7px;
  border: 1px solid var(--border-100);
  background-color: transparent;
  color: var(--text-main);
  padding: 5px 6px;
  font-size: 12px;
  height: 5rem;
}
select[multiple] option {
  white-space: normal;
  outline-color: var(--border-100);
  padding-left: 0.5em;
  color: var(--text-soft) !important;
}
select[multiple]:not(:disabled) option {
  border-radius: 2px;
  margin-bottom: 1px;
  transition: 120ms all ease-in;
}
select[multiple]:not(:disabled) option:checked {
  background: var(--accent-200);
  padding-left: 0.5em;
  color: var(--text-main) !important;
}
select[multiple]:hover, select[multiple]:focus {
  border-color: var(--accent-200);
}

.color-picker {
  border-radius: 9999px;
  padding: 2px;
  width: 80%;
  aspect-ratio: 1;
  border: 0;
}
.color-picker input[type=color] {
  appearance: none;
  -webkit-appearance: none;
  border-radius: 7px;
  border: 1px solid var(--border-100);
  background-color: var(--bg-panel);
  color: var(--text-main);
  padding: 0px;
  font-size: 12px;
  width: 100%;
  height: 100%;
  margin-top: -2px;
  border-radius: 9999px;
  border: 0;
  background: transparent;
  cursor: pointer;
  overflow: hidden;
}
.color-picker input[type=color]::-webkit-color-swatch-wrapper {
  padding: 0;
  border-radius: 9999px;
}
.color-picker input[type=color]::-webkit-color-swatch-wrapper:hover, .color-picker input[type=color]::-webkit-color-swatch-wrapper:focus {
  border: 1px solid var(--accent);
}
.color-picker input[type=color]::-webkit-color-swatch {
  border: 0;
  border-radius: 9999px;
}

input[type=number] {
  border-radius: 7px;
  border: 1px solid var(--border-100);
  background-color: var(--bg-chip);
  color: var(--text-main);
  padding: 5px 6px;
  font-size: 12px;
  width: 100%;
  outline: none;
}
input[type=number]:hover, input[type=number].active, input[type=number]:focus {
  border-color: var(--accent-200);
  outline: none;
}

input[type=checkbox] {
  appearance: none;
  background-color: var(--bg-chip-100);
  margin: 0;
  font: inherit;
  color: currentColor;
  width: 1em;
  height: 1em;
  border: 0.1em solid var(--bg-chip-100);
  border-radius: 0.1em;
  display: grid;
  place-content: center;
  outline: var(--accent-100);
}
input[type=checkbox]::before {
  content: "";
  width: 0.67em;
  height: 0.67em;
  border-radius: 0.1em;
  transform: scale(0);
  transition: 120ms transform ease-in-out;
  box-shadow: inset 1em 1em var(--accent);
}
input[type=checkbox]:checked::before {
  transform: scale(1);
}

@media (max-width: 1180px) {
  #toolbar {
    grid-template-columns: 1fr;
  }
  #main-layout {
    overflow: hidden;
  }
  #settings-panel {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: min(92vw, 420px);
    z-index: 120;
    border-left: 1px solid var(--border);
  }
  #search-suggest {
    right: 0;
  }
}
#toolbar {
  display: grid;
  grid-template-columns: minmax(200px, 1.1fr) minmax(300px, 1fr) auto;
  gap: 12px;
  align-items: center;
  padding: 10px 25px;
  background: var(--bg-panel);
}

#toolbar-left,
#toolbar-center,
#toolbar-right {
  min-width: 0;
}

#toolbar-right {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}

.chip-row {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.layer-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  background: var(--bg-chip);
  border-radius: var(--radius-small);
  font-size: 12px;
  color: var(--text-main);
  cursor: pointer;
  user-select: none;
}

#btn-refresh {
  border-color: var(--accent-100);
  background: var(--accent-300);
}
#btn-refresh:hover, #btn-refresh:active {
  border-color: var(--accent);
  background: var(--accent-100);
}

#toolbar-debug {
  display: flex;
  gap: 0px;
}
#toolbar-debug button {
  border-color: var(--accent-300);
  background: var(--accent-200);
}
#toolbar-debug button:hover, #toolbar-debug button:active {
  border-color: var(--accent-200);
  background: var(--accent-100);
}
#toolbar-debug #btn-dev-tools {
  margin-right: 0;
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
  border-right: none;
}
#toolbar-debug #btn-reload-css {
  margin-left: 0;
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}

#search-wrap {
  position: relative;
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 0;
}
#search-wrap #search-input {
  margin-right: 0;
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
  background-color: var(--bg-chip-100);
}
#search-wrap #search-go {
  width: 50px;
  margin-left: 0;
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
  border-left: none;
}
#search-wrap #search-suggest {
  position: absolute;
  top: calc(100% + 5px);
  width: calc(100% - 50px);
  left: 0;
  right: 85px;
  max-height: 260px;
  overflow: auto;
  background: var(--bg-popup);
  border: 1px solid var(--border-100);
  border-radius: var(--radius-small);
  z-index: 500;
}
#search-wrap #search-suggest::-webkit-scrollbar {
  width: 10px !important;
  background: transparent !important;
  margin: var(--radius-small) 0 !important;
}
#search-wrap #search-suggest::-webkit-scrollbar-track {
  background: transparent !important;
  border-radius: 999px !important;
}
#search-wrap #search-suggest::-webkit-scrollbar-thumb {
  background: var(--accent-200) !important;
  border-radius: 999px !important;
}
#search-wrap #search-suggest::-webkit-scrollbar-button {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}
#search-wrap #search-suggest.is-visible {
  display: block;
}
#search-wrap .suggest-item {
  padding: 7px 9px;
  border-bottom: 1px solid var(--border);
  cursor: pointer;
}
#search-wrap .suggest-item:hover, #search-wrap .suggest-item:active {
  background: var(--bg-chip-100);
  border-bottom: 1px solid var(--accent-200);
}
#search-wrap .suggest-meta {
  display: block;
  color: var(--text-soft);
  font-size: 11px;
}

#main-layout {
  flex: 1 1 auto;
  display: flex;
  min-width: 0;
  min-height: 0;
  position: relative;
}

#graph-panel {
  flex: 1 1 auto;
  min-width: 0;
  min-height: 0;
  position: relative;
  background: var(--bg-main);
  overflow: hidden;
  isolation: isolate;
}

#graph-panel::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  background: var(--bg-main-100);
  opacity: 0;
  transition: opacity 120ms ease;
}

#graph-panel.focus-mode::after {
  opacity: 1;
}

#graph {
  position: absolute;
  inset: 0;
  z-index: 2;
  overflow: hidden;
}

#gl-bench {
  top: 50px;
}

#flow-canvas {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 3;
}

#graph-empty {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  color: var(--text-soft);
  font-size: 14px;
  padding: 8px 14px;
  background: var(--bg-main);
  border: 1px solid var(--border-100);
  border-radius: 999px;
  z-index: 4;
}

#settings-panel {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: min(390px, 42vw);
  min-height: 0;
  background: var(--bg-panel);
  transition: transform 180ms ease, opacity 180ms ease, visibility 180ms ease;
  z-index: 120;
  overflow: visible;
}
#settings-panel::before {
  content: "";
  position: absolute;
  left: calc(var(--radius-large) * -1);
  top: 0;
  width: var(--radius-large);
  height: var(--radius-large);
  background: var(--bg-panel);
  pointer-events: none;
  z-index: 121;
  mask: radial-gradient(circle var(--radius-large) at 0 100%, transparent calc(var(--radius-large) - 0px), #000 var(--radius-large));
}
#settings-panel.closed {
  transform: translateX(calc(100% + 16px));
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
#settings-panel #settings-head {
  height: 12%;
  overflow: auto;
  padding: 12px 12px;
  box-sizing: border-box;
  border-bottom: 1px solid var(--border);
}
#settings-panel #settings-head .panel-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 12px;
}
#settings-panel #settings-head .panel-head h2 {
  margin: 0;
  font-size: 18px;
}
#settings-panel #settings-head #settings-tabs {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0px;
}
#settings-panel #settings-head #settings-tabs button {
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-btn);
  color: var(--text-main);
  padding: 8px 10px;
  font-size: 13px;
  box-shadow: 0px 2px 1px -1px rgba(20, 20, 20, 0.12), 0px 1px 1px 0px rgba(20, 20, 20, 0.06), 0px 1px 3px 0px rgba(20, 20, 20, 0.04);
  cursor: pointer;
  font-weight: 600;
  border-radius: 0;
  margin: 0;
}
#settings-panel #settings-head #settings-tabs button:hover, #settings-panel #settings-head #settings-tabs button.active {
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-btn-soft);
  color: var(--text-main);
  padding: 8px 10px;
  font-size: 13px;
  box-shadow: 0px 2px 1px -1px rgba(20, 20, 20, 0.12), 0px 1px 1px 0px rgba(20, 20, 20, 0.06), 0px 1px 3px 0px rgba(20, 20, 20, 0.04);
  border-radius: 0;
}
#settings-panel #settings-head #settings-tabs button.active {
  font-weight: 800;
}
#settings-panel #settings-head #settings-tabs button:first-child {
  border-top-left-radius: var(--radius-small);
  border-bottom-left-radius: var(--radius-small);
}
#settings-panel #settings-head #settings-tabs button:first-child:hover:last-child, #settings-panel #settings-head #settings-tabs button:first-child:active:last-child {
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-btn-soft);
  color: var(--text-main);
  padding: 8px 10px;
  font-size: 13px;
  box-shadow: 0px 2px 1px -1px rgba(20, 20, 20, 0.12), 0px 1px 1px 0px rgba(20, 20, 20, 0.06), 0px 1px 3px 0px rgba(20, 20, 20, 0.04);
  border-top-left-radius: var(--radius-small);
  border-bottom-left-radius: var(--radius-small);
}
#settings-panel #settings-head #settings-tabs button:last-child {
  border-top-right-radius: var(--radius-small);
  border-bottom-right-radius: var(--radius-small);
}
#settings-panel #settings-head #settings-tabs button:last-child:hover:first-child, #settings-panel #settings-head #settings-tabs button:last-child:active:first-child {
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-btn-soft);
  color: var(--text-main);
  padding: 8px 10px;
  font-size: 13px;
  box-shadow: 0px 2px 1px -1px rgba(20, 20, 20, 0.12), 0px 1px 1px 0px rgba(20, 20, 20, 0.06), 0px 1px 3px 0px rgba(20, 20, 20, 0.04);
  border-top-right-radius: var(--radius-small);
  border-bottom-right-radius: var(--radius-small);
}
#settings-panel .settings-scroll::-webkit-scrollbar {
  width: 10px !important;
  background: transparent !important;
  margin: var(--radius-small) 0 !important;
}
#settings-panel .settings-scroll::-webkit-scrollbar-track {
  background: transparent !important;
  border-radius: 999px !important;
}
#settings-panel .settings-scroll::-webkit-scrollbar-thumb {
  background: var(--accent-200) !important;
  border-radius: 999px !important;
}
#settings-panel .settings-scroll::-webkit-scrollbar-button {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}
#settings-panel .settings-scroll {
  height: 88%;
  min-height: 0;
  overflow: auto;
  padding: 12px 12px;
  box-sizing: border-box;
  border: none;
}
#settings-panel .settings-scroll .settings-block {
  border: 1px solid var(--border-100);
  border-radius: var(--radius-small);
  background: var(--bg-panel-100);
  padding: 10px;
  margin-bottom: 10px;
}
#settings-panel .settings-scroll .settings-block h3 {
  margin: 0 0 8px 0;
  font-size: 14px;
}
#settings-panel .settings-scroll .settings-block #note-runtime-settings .line-item {
  border: 1px solid var(--border-100);
  border-radius: 8px;
  background: var(--bg-panel);
  padding: 5px 6px;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card {
  border: 1px solid var(--border-100);
  border-radius: var(--radius-small);
  background: var(--bg-panel);
  padding: 8px;
  transition: border-color 180ms ease, background-color 180ms ease;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-type-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 6px;
  transition: margin-bottom 180ms ease;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-type-head .note-type-name {
  font-size: 13px;
  font-weight: 700;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-type-body {
  display: grid;
  grid-template-rows: 1fr;
  opacity: 1;
  transition: grid-template-rows 220ms ease, opacity 220ms ease;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-type-body .note-type-body-inner {
  min-height: 0;
  overflow: hidden;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card.is-collapsed .note-type-head {
  margin-bottom: 0;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card.is-collapsed .note-type-body {
  grid-template-rows: 0fr;
  opacity: 0;
  pointer-events: none;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-field-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 1%;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-field-grid .note-fields-left {
  flex: 0 0 29%;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-field-grid .note-fields-right {
  flex: 0 0 69%;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-field-grid .note-fields-bottom {
  flex: 0 0 100%;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-field-grid .note-fields-bottom select[multiple]::-webkit-scrollbar {
  width: 10px !important;
  background: transparent !important;
  margin: var(--radius-small) 0 !important;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-field-grid .note-fields-bottom select[multiple]::-webkit-scrollbar-track {
  background: transparent !important;
  border-radius: 999px !important;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-field-grid .note-fields-bottom select[multiple]::-webkit-scrollbar-thumb {
  background: var(--accent-200) !important;
  border-radius: 999px !important;
}
#settings-panel .settings-scroll .settings-block #note-type-list .note-type-card .note-field-grid .note-fields-bottom select[multiple]::-webkit-scrollbar-button {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}
#settings-panel .settings-scroll .settings-block #link-runtime-settings {
  display: grid;
  gap: 8px;
}
#settings-panel .settings-scroll .settings-block #link-runtime-settings #link-settings {
  display: grid;
  gap: 8px;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card {
  border: 1px solid var(--border-100);
  border-radius: var(--radius-small);
  background: var(--bg-panel);
  padding: 8px;
  transition: border-color 180ms ease, background-color 180ms ease;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-type-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 6px;
  transition: margin-bottom 180ms ease;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-type-head .link-type-name {
  font-size: 13px;
  font-weight: 700;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-type-body {
  display: grid;
  grid-template-rows: 1fr;
  opacity: 1;
  transition: grid-template-rows 220ms ease, opacity 220ms ease;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-type-body .link-type-body-inner {
  min-height: 0;
  overflow: hidden;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card.is-collapsed .link-type-head {
  margin-bottom: 0;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card.is-collapsed .link-type-body {
  grid-template-rows: 0fr;
  opacity: 0;
  pointer-events: none;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-field-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 1%;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-field-grid .link-fields-left {
  flex: 0 0 29%;
  display: grid;
  gap: 6px;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-field-grid .link-fields-left .color-picker {
  border-radius: 0;
  width: 100%;
  height: 10px;
  aspect-ratio: none;
  border: 0;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-field-grid .link-fields-left .color-picker input[type=color] {
  border-radius: 0;
  margin-top: 0;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-field-grid .link-fields-left .color-picker input[type=color]::-webkit-color-swatch-wrapper,
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-field-grid .link-fields-left .color-picker input[type=color]::-webkit-color-swatch {
  border-radius: 0;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-field-grid .link-fields-right {
  flex: 0 0 69%;
  display: grid;
  gap: 6px;
}
#settings-panel .settings-scroll .settings-block #link-layer-list .link-type-card .link-field-grid .link-fields-bottom {
  flex: 0 0 100%;
}
#settings-panel .settings-scroll .settings-block #engine-list .control-row,
#settings-panel .settings-scroll .settings-block #solver-list .control-row,
#settings-panel .settings-scroll .settings-block #renderer-list .control-row {
  grid-template-columns: 7fr 2fr;
}
#settings-panel .settings-scroll .tab-pane {
  display: none;
}
#settings-panel .settings-scroll .tab-pane.active {
  display: block;
}

#editor-panel {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: min(390px, 42vw);
  min-height: 0;
  background: var(--bg-panel);
  transition: transform 180ms ease, opacity 180ms ease, visibility 180ms ease;
  z-index: 120;
  overflow: visible;
}
#editor-panel::before {
  content: "";
  position: absolute;
  right: calc(var(--radius-medium) * -1);
  top: 24px;
  width: var(--radius-medium);
  height: var(--radius-medium);
  background: var(--bg-panel);
  pointer-events: none;
  z-index: 121;
  mask: radial-gradient(circle var(--radius-medium) at 100% 100%, transparent calc(var(--radius-medium) - 0px), #000 var(--radius-medium));
}
#editor-panel.closed {
  transform: translateX(calc((100% + 16px) * -1));
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
#editor-panel #edit-head {
  height: 12%;
  overflow: auto;
  padding: 12px 12px;
  box-sizing: border-box;
  border-bottom: 1px solid var(--border);
}
#editor-panel #edit-head .panel-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 12px;
}
#editor-panel #edit-head .panel-head h2 {
  margin: 0;
  font-size: 18px;
}
#editor-panel .edit-scroll::-webkit-scrollbar {
  width: 10px !important;
  background: transparent !important;
  margin: var(--radius-small) 0 !important;
}
#editor-panel .edit-scroll::-webkit-scrollbar-track {
  background: transparent !important;
  border-radius: 999px !important;
}
#editor-panel .edit-scroll::-webkit-scrollbar-thumb {
  background: var(--accent-200) !important;
  border-radius: 999px !important;
}
#editor-panel .edit-scroll::-webkit-scrollbar-button {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}
#editor-panel .edit-scroll {
  height: 88%;
  min-height: 0;
  overflow: auto;
  padding: 12px 12px;
  box-sizing: border-box;
  border: none;
}
#editor-panel .edit-scroll .editor-block {
  border: 1px solid var(--border-100);
  border-radius: var(--radius-small);
  background: var(--bg-panel-100);
  padding: 10px;
  margin-bottom: 10px;
}
#editor-panel .edit-scroll .editor-block h3 {
  margin: 0 0 8px 0;
  font-size: 14px;
}
#editor-panel .edit-scroll .tab-pane {
  display: none;
}
#editor-panel .edit-scroll .tab-pane.active {
  display: block;
}

/* Hover Tooltip */
#hover-tip {
  position: fixed;
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-chip-200);
  backdrop-filter: blur(8px);
  padding: 8px 10px;
  color: var(--text-main);
  font-size: 12px;
  box-shadow: 0 12px 24px rgba(2, 6, 23, 0.42);
  z-index: 500;
  pointer-events: none;
  min-width: 180px;
  max-width: 340px;
  display: none;
  line-height: 1.35;
}
#hover-tip.is-visible {
  display: block;
}
#hover-tip .tip-title {
  font-weight: 700;
  margin-bottom: 4px;
}
#hover-tip .tip-muted {
  color: var(--text-soft);
}

/* Conteext Menu */
#ctx-menu {
  position: fixed;
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-chip-200);
  backdrop-filter: blur(8px);
  padding: 6px;
  color: var(--text-main);
  font-size: 12px;
  box-shadow: 0 12px 24px rgba(2, 6, 23, 0.42);
  z-index: 500;
  display: none;
  min-width: 220px;
  max-width: 360px;
}
#ctx-menu.is-visible {
  display: block;
}
#ctx-menu .item {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 7px 9px;
  border-radius: 8px;
  cursor: pointer;
  color: var(--text-main);
}
#ctx-menu .item:hover {
  background: var(--bg-chip-100);
}
#ctx-menu .divider {
  height: 1px;
  margin: 5px 4px;
  background: var(--border-100);
}
#ctx-menu .ctx-selected-dot, #ctx-menu .ctx-active-dot {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  margin: 0 5px 1px 2px;
}
#ctx-menu .ctx-selected-dot {
  border: 1.4px solid var(--danger);
  background: transparent;
}
#ctx-menu .ctx-active-dot {
  background: var(--ok);
}

#ctx-picker {
  position: fixed;
  inset: 0;
  z-index: 130;
  background: rgba(2, 6, 23, 0.45);
  display: flex;
  align-items: center;
  justify-content: center;
}
#ctx-picker .dialog {
  width: min(360px, 92vw);
  max-height: min(72vh, 520px);
  border-radius: 14px;
  border: 1px solid var(--border-100);
  background: var(--bg-chip-200);
  box-shadow: 0 12px 28px rgba(2, 6, 23, 0.5);
  color: var(--text-main);
  display: grid;
  grid-template-rows: auto 1fr auto;
}
#ctx-picker .title {
  padding: 12px 14px 8px 14px;
  font-size: 13px;
  font-weight: 700;
}
#ctx-picker .list {
  overflow: auto;
  padding: 0 14px 10px 14px;
}
#ctx-picker .row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 2px;
}
#ctx-picker .btn-row {
  display: flex;
  gap: 8px;
  padding: 10px 12px 12px 12px;
  border-top: 1px solid var(--border-100);
}
#ctx-picker .btn {
  flex: 1 1 auto;
  border-radius: 9px;
  border: 1px solid var(--border-100);
  background: var(--bg-chip-200);
  color: var(--text-main);
  padding: 7px 10px;
  cursor: pointer;
}
#ctx-picker .btn:hover {
  background: var(--bg-chip-200);
}
#ctx-picker .btn.primary {
  border-color: var(--border-dark);
}

/* Overlays */
/* Top Left Status Overlay */
/* Status Bar | Active Node Panel | Debug Panel */
#status-overlay-top-left {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 100;
  width: min(400px, 21vw);
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding-left: 10px;
  transition: transform 180ms ease;
}
#status-overlay-top-left.sidepanel {
  transform: translateX(min(390px, 42vw));
  pointer-events: none;
}
#status-overlay-top-left #statusbar {
  position: relative;
  left: -10px;
  width: calc(100% + 11px);
  height: minmax(24px, 72px);
  display: flex;
  justify-content: space-between;
  gap: 10px;
  overflow: visible;
  padding: 0px 20px 10px 25px;
  background: var(--bg-panel);
  border-bottom-right-radius: 10px;
  color: var(--text-soft);
  font-size: 12px;
}
#status-overlay-top-left #statusbar::after {
  content: "";
  position: absolute;
  right: calc(var(--radius-small) * -1);
  box-sizing: border-box;
  width: var(--radius-small);
  height: var(--radius-small);
  background: var(--bg-panel);
  pointer-events: none;
  mask: radial-gradient(circle at 100% 100%, transparent calc(var(--radius-small) - 0px), #000 var(--radius-small));
}
#status-overlay-top-left #status-active {
  position: relative;
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-chip-200);
  backdrop-filter: blur(8px);
  padding: 2px 12px 12px 12px;
  color: var(--text-main);
  font-size: 12px;
  box-shadow: 0 12px 24px rgba(2, 6, 23, 0.42);
  z-index: 500;
  position: relative;
  width: 100%;
  transform: translateX(calc(-100% - 18px));
  pointer-events: none;
  transition: transform 220ms ease;
  will-change: transform;
}
#status-overlay-top-left #status-active.is-open {
  transform: translateX(0);
  pointer-events: auto;
}
#status-overlay-top-left #status-active .title h2 {
  margin-bottom: 2px;
}
#status-overlay-top-left #status-active .title h3 {
  margin-bottom: 0;
}
#status-overlay-top-left #status-active #status-active-details {
  display: block;
  white-space: normal;
  line-height: 1.35;
  color: var(--text-main);
  font-size: 12px;
  z-index: 100;
}
#status-overlay-top-left #status-active #status-active-cards {
  margin-top: 10px;
}
#status-overlay-top-left #status-active #status-active-cards .active-cards-table {
  border-radius: 7px;
  overflow: hidden;
}
#status-overlay-top-left #status-active #status-active-cards .active-cards-head,
#status-overlay-top-left #status-active #status-active-cards .active-card-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr) 92px 84px;
  gap: 10px;
  align-items: center;
}
#status-overlay-top-left #status-active #status-active-cards .active-cards-head {
  padding: 6px 8px;
  border-bottom: 1px solid color-mix(in srgb, var(--border-100), transparent 34%);
}
#status-overlay-top-left #status-active #status-active-cards .active-card-col {
  font-size: 10px;
  line-height: 1.2;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: var(--text-soft);
  font-weight: 700;
}
#status-overlay-top-left #status-active #status-active-cards .active-cards-list::-webkit-scrollbar {
  width: 10px !important;
  background: transparent !important;
  margin: var(--radius-small) 0 !important;
}
#status-overlay-top-left #status-active #status-active-cards .active-cards-list::-webkit-scrollbar-track {
  background: transparent !important;
  border-radius: 999px !important;
}
#status-overlay-top-left #status-active #status-active-cards .active-cards-list::-webkit-scrollbar-thumb {
  background: var(--accent-200) !important;
  border-radius: 999px !important;
}
#status-overlay-top-left #status-active #status-active-cards .active-cards-list::-webkit-scrollbar-button {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}
#status-overlay-top-left #status-active #status-active-cards .active-cards-list {
  display: block;
  max-height: 180px;
  overflow: auto;
}
#status-overlay-top-left #status-active #status-active-cards .active-card-row {
  padding: 6px 8px;
  border-bottom: 1px solid color-mix(in srgb, var(--border-100), transparent 52%);
  font-size: 11px;
  color: var(--text-main);
}
#status-overlay-top-left #status-active #status-active-cards .active-card-row:last-child {
  border-bottom: none;
}
#status-overlay-top-left #status-active #status-active-cards .active-card-cell {
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
#status-overlay-top-left #status-active #status-active-cards .active-card-status,
#status-overlay-top-left #status-active #status-active-cards .active-card-stability,
#status-overlay-top-left #status-active #status-active-cards .active-card-col-status,
#status-overlay-top-left #status-active #status-active-cards .active-card-col-stability {
  text-align: right;
  justify-self: end;
}
#status-overlay-top-left #status-active #status-active-deptree {
  display: block;
  margin: 18px 0;
  border-top: 1px solid color-mix(in srgb, var(--border-100), transparent 42%);
  border-bottom: 1px solid color-mix(in srgb, var(--border-100), transparent 42%);
  white-space: normal;
  line-height: 1.35;
  color: var(--text-soft);
  font-size: 11px;
}
#status-overlay-top-left #status-active #status-active-deptree .dep-tree-canvas {
  width: 100%;
  display: block;
  background: transparent;
  cursor: pointer;
}
#status-overlay-top-left #status-active .btn-row {
  position: flex;
  align-items: end;
}
#status-overlay-top-left #status-active .btn-row #btn-editor {
  margin: 5px;
}

/* Bottom Right Status Overlay */
/* Zoom */
#status-overlay-bottom-right {
  position: absolute;
  bottom: 0;
  right: 0;
  z-index: 250;
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding-right: 10px;
  padding-bottom: 10px;
  transition: transform 180ms ease;
}
#status-overlay-bottom-right.sidepanel {
  transform: translateX(calc(min(390px, 42vw) * -1));
  pointer-events: none;
}
#status-overlay-bottom-right #status-zoom-pill {
  position: relative;
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-chip-200);
  backdrop-filter: blur(8px);
  padding: 7px 12px;
  color: var(--text-main);
  font-size: 12px;
  box-shadow: 0 12px 24px rgba(2, 6, 23, 0.42);
  z-index: 500;
  width: fit-content;
  align-self: flex-end;
  bottom: 0;
}
#status-overlay-bottom-right #status-debug-panel {
  position: relative;
  border-radius: var(--radius-small);
  border: 1px solid var(--border-100);
  background: var(--bg-chip-200);
  backdrop-filter: blur(8px);
  padding: 7px 12px;
  color: var(--text-main);
  font-size: 12px;
  box-shadow: 0 12px 24px rgba(2, 6, 23, 0.42);
  z-index: 500;
  z-index: 500;
  width: 250px;
  height: fit-content;
  align-self: flex-end;
  display: flex;
  flex-direction: column;
  gap: 5px;
}
#status-overlay-bottom-right #status-debug-panel.is-hidden {
  display: none;
}
#status-overlay-bottom-right #status-debug-panel .title {
  margin-bottom: 10px;
}
#status-overlay-bottom-right #status-debug-panel .coord-table {
  width: 100%;
  display: grid;
  grid-template-columns: 52px 1fr 1fr;
  font-size: 11px;
  gap: 0;
}
#status-overlay-bottom-right #status-debug-panel .coord-table .coord-key,
#status-overlay-bottom-right #status-debug-panel .coord-table .coord-val {
  padding: 2px 4px;
  border-top: var(--border-100);
}
#status-overlay-bottom-right #status-debug-panel .coord-table .coord-key {
  text-align: left;
  font-weight: 600;
  color: var(--text-soft);
}
#status-overlay-bottom-right #status-debug-panel .coord-table .coord-val {
  text-align: right;
  color: var(--text-main);
}
#status-overlay-bottom-right #status-debug-panel .coord-table .coord-empty {
  color: transparent;
}

#editor-anki html,
#editor-anki body {
  background: var(--bg-panel) !important;
  color: var(--text-main) !important;
  margin: 0 !important;
  padding: 0 !important;
}
#editor-anki body {
  font-family: "Bahnschrift", "Trebuchet MS", "Segoe UI", sans-serif !important;
}
#editor-anki a {
  color: #93c5fd !important;
}
#editor-anki .editing-area,
#editor-anki .label-container {
  background: transparent !important;
}
#editor-anki button {
  border-radius: var(--radius-small) !important;
  border: 1px solid var(--border-100) !important;
  background: var(--bg-btn) !important;
  color: var(--text-main) !important;
  padding: 8px 10px;
  font-size: 13px;
  box-shadow: 0px 2px 1px -1px rgba(20, 20, 20, 0.12), 0px 1px 1px 0px rgba(20, 20, 20, 0.06), 0px 1px 3px 0px rgba(20, 20, 20, 0.04) !important;
  cursor: pointer;
  font-weight: 600;
}
#editor-anki button:hover, #editor-anki button:active, #editor-anki button:focus-visible {
  background: var(--bg-btn-soft) !important;
}
#editor-anki .field-state .ajt-play-icon {
  padding-right: 22px;
}
#editor-anki .collapse-label {
  position: relative !important;
  display: grid !important;
  grid-template-areas: "select" !important;
  align-items: center !important;
  width: 100%;
}
#editor-anki .collapse-label .collapse-badge {
  display: none !important;
}
#editor-anki .collapse-label .label-name {
  color: var(--text-soft);
  font-size: 11px !important;
  margin-left: 5px !important;
  grid-area: select;
}
#editor-anki .collapse-label::after {
  content: "";
  grid-area: select;
  justify-self: end;
  width: 0.8em;
  height: 0.5em;
  background: var(--accent-100);
  clip-path: polygon(100% 0%, 0 0%, 50% 100%);
  transition: transform 0.16s ease;
}
#editor-anki .collapse-label[aria-expanded=false]::after {
  transform: rotate(90deg);
  transform-origin: 50% 50%;
}
#editor-anki .cloze,
#editor-anki mark {
  background: rgba(246, 134, 59, 0.25) !important;
  color: var(--text-main) !important;
}
#editor-anki .hidden {
  display: none !important;
}
#editor-anki #ajpc-graph-editor-web-controls {
  display: flex;
  justify-content: flex-start;
  gap: 8px;
  padding: 12px 8px 12px 20px;
  height: 59px;
  box-sizing: border-box;
}
#editor-anki #ajpc-graph-editor-web-controls #ajpc-toolbar-debug {
  display: flex;
  gap: 0px;
}
#editor-anki #ajpc-graph-editor-web-controls #ajpc-toolbar-debug #ajpc-graph-editor-devtools,
#editor-anki #ajpc-graph-editor-web-controls #ajpc-toolbar-debug #ajpc-graph-editor-css-reload {
  border-color: var(--accent-300) !important;
  background: var(--accent-200) !important;
  box-shadow: 0px 2px 1px -1px rgba(20, 20, 20, 0.12), 0px 1px 1px 0px rgba(20, 20, 20, 0.06), 0px 1px 3px 0px rgba(20, 20, 20, 0.04) !important;
}
#editor-anki #ajpc-graph-editor-web-controls #ajpc-toolbar-debug #ajpc-graph-editor-devtools:hover, #editor-anki #ajpc-graph-editor-web-controls #ajpc-toolbar-debug #ajpc-graph-editor-devtools:active,
#editor-anki #ajpc-graph-editor-web-controls #ajpc-toolbar-debug #ajpc-graph-editor-css-reload:hover,
#editor-anki #ajpc-graph-editor-web-controls #ajpc-toolbar-debug #ajpc-graph-editor-css-reload:active {
  border-color: var(--accent-200) !important;
  background: var(--accent-100) !important;
}
#editor-anki #ajpc-graph-editor-web-controls #ajpc-toolbar-debug #ajpc-graph-editor-devtools {
  margin-right: 0;
  border-bottom-right-radius: 0 !important;
  border-top-right-radius: 0 !important;
  border-right: none !important;
}
#editor-anki #ajpc-graph-editor-web-controls #ajpc-toolbar-debug #ajpc-graph-editor-css-reload {
  margin-left: 0;
  border-bottom-left-radius: 0 !important;
  border-top-left-radius: 0 !important;
}
#editor-anki .note-editor {
  height: calc(100% - 59px) !important;
}
#editor-anki .note-editor .editor-toolbar {
  background: var(--bg-panel) !important;
  border-color: var(--border-100) !important;
  margin: 0 !important;
  padding: 3px 10px 3px 20px !important;
}
#editor-anki .note-editor .editor-toolbar [data-command=_ajpc_browser_graph_toggle_prio],
#editor-anki .note-editor .editor-toolbar [data-command=_ajpc_browser_graph_toggle_graph],
#editor-anki .note-editor .editor-toolbar [data-command=_ajpc_browser_graph_toggle] {
  display: none !important;
}
#editor-anki .note-editor .editor-toolbar .button-group button {
  border-radius: 0 !important;
  padding: 1px 3px !important;
  font-size: 12px !important;
}
#editor-anki .note-editor .editor-toolbar .button-group button:hover, #editor-anki .note-editor .editor-toolbar .button-group button:active, #editor-anki .note-editor .editor-toolbar .button-group button:focus-visible {
  background: var(--bg-btn-soft) !important;
}
#editor-anki .note-editor .editor-toolbar .button-group button.ajpc-edge-first {
  border-top-left-radius: 5px !important;
  border-bottom-left-radius: 5px !important;
}
#editor-anki .note-editor .editor-toolbar .button-group button.ajpc-edge-last {
  border-top-right-radius: 5px !important;
  border-bottom-right-radius: 5px !important;
}
#editor-anki .note-editor .scroll-area-relative .scroll-area-wrapper .scroll-area::-webkit-scrollbar {
  width: 10px !important;
  background: transparent !important;
  margin: var(--radius-small) 0 !important;
}
#editor-anki .note-editor .scroll-area-relative .scroll-area-wrapper .scroll-area::-webkit-scrollbar-track {
  background: transparent !important;
  border-radius: 999px !important;
}
#editor-anki .note-editor .scroll-area-relative .scroll-area-wrapper .scroll-area::-webkit-scrollbar-thumb {
  background: var(--accent-200) !important;
  border-radius: 999px !important;
}
#editor-anki .note-editor .scroll-area-relative .scroll-area-wrapper .scroll-area::-webkit-scrollbar-button {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}
#editor-anki .note-editor .scroll-area-relative .scroll-area-wrapper .scroll-area {
  direction: rtl;
  padding: 0 10px 10px 10px;
  left: 0;
}
#editor-anki .note-editor .scroll-area-relative .scroll-area-wrapper .scroll-area .d-flex {
  direction: ltr;
}
#editor-anki .note-editor .fields {
  border: 1px solid var(--border-100) !important;
  border-radius: var(--radius-small) !important;
  background: var(--bg-panel-100) !important;
  padding: 10px !important;
}
#editor-anki .note-editor .fields .collapsible {
  padding: 0px !important;
}
#editor-anki .note-editor .fields .field-container {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0px;
  align-items: center;
  border: 1px solid var(--border-100);
  border-radius: var(--radius-small);
  background: var(--bg-panel);
  padding: 5px 6px;
  font-size: 12px;
}
#editor-anki .note-editor .fields .field-container .label-container {
  background: transparent;
}
#editor-anki .note-editor .fields .field-container .label-container .collapse-badge {
  display: none !important;
}
#editor-anki .note-editor .fields .field-container .label-container .label-name {
  margin-bottom: 4px;
}
#editor-anki .note-editor .fields .field-container .collapsible .editor-field {
  border: none !important;
  box-shadow: none !important;
  outline: none;
}
#editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area {
  background: var(--bg-chip);
  border: 1px solid var(--border-100);
  border-radius: var(--radius-small);
}
#editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area:hover, #editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area:active, #editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area:focus, #editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area:focus-visible {
  border: 1px solid var(--accent-200);
  outline: none;
}
#editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area .CodeMirror-gutters {
  background-color: transparent;
}
#editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area > .collapsible.full-hide:not(.hidden) > .plain-text-input > .code-mirror > .CodeMirror {
  border-radius: var(--radius-small);
  background: var(--bg-chip);
}
#editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area > .collapsible.full-hide:not(.hidden) > .rich-text-input {
  border-radius: var(--radius-small);
  background: var(--bg-chip-100);
}
#editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area.ajpc-pair-plain-rich > .collapsible.full-hide:not(.hidden) > .plain-text-input > .code-mirror > .CodeMirror {
  border-bottom-left-radius: 0 !important;
  border-bottom-right-radius: 0 !important;
}
#editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area.ajpc-pair-plain-rich > .collapsible.full-hide:not(.hidden) + .collapsible.full-hide:not(.hidden) > .rich-text-input {
  border-top-left-radius: 0 !important;
  border-top-right-radius: 0 !important;
}
#editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area.ajpc-pair-rich-plain > .collapsible.full-hide:not(.hidden) > .rich-text-input {
  border-bottom-left-radius: 0 !important;
  border-bottom-right-radius: 0 !important;
}
#editor-anki .note-editor .fields .field-container .collapsible .editor-field .editing-area.ajpc-pair-rich-plain > .collapsible.full-hide:not(.hidden) + .collapsible.full-hide:not(.hidden) > .plain-text-input > .code-mirror > .CodeMirror {
  border-top-left-radius: 0 !important;
  border-top-right-radius: 0 !important;
}
#editor-anki #ajpc-tag-wrapper {
  padding: 5px 20px !important;
}
#editor-anki #ajpc-tag-wrapper .collapsible {
  background: transparent !important;
  border: none !important;
  color: var(--text-soft);
  font-size: 12px !important;
}
#editor-anki #ajpc-tag-wrapper .collapsible .tag-editor {
  background: var(--bg-chip) !important;
  border-radius: var(--radius-small) !important;
  border: 1px solid var(--border-100) !important;
  padding: 5px 6px !important;
  margin: 0 0 10px 0 !important;
  color: var(--text) !important;
  font-size: 12px !important;
  font-weight: 400 !important;
}
#editor-anki #ajpc-tag-wrapper .collapsible .tag-editor .tag {
  background: var(--bg-panel) !important;
  color: var(--text-main) !important;
  border: 1px solid var(--border-100) !important;
  padding: 0px 3px 0px 3px;
  font-size: 12px !important;
  border-radius: var(--radius-small) !important;
  box-shadow: none !important;
  cursor: pointer;
}
#editor-anki #ajpc-tag-wrapper .collapsible .tag-editor .tag:hover, #editor-anki #ajpc-tag-wrapper .collapsible .tag-editor .tag:active, #editor-anki #ajpc-tag-wrapper .collapsible .tag-editor .tag:focus-visible {
  background: var(--bg-btn-soft) !important;
}
#editor-anki .floating {
  border-radius: var(--radius-small);
}
#editor-anki .floating .popover {
  padding: 0 !important;
  border: 1px solid var(--border-100) !important;
  background: var(--bg-popup) !important;
  color: var(--text-main) !important;
  border-radius: var(--radius-small);
}
#editor-anki .floating .popover .autocomplete-menu::-webkit-scrollbar {
  width: 10px !important;
  background: transparent !important;
  margin: var(--radius-small) 0 !important;
}
#editor-anki .floating .popover .autocomplete-menu::-webkit-scrollbar-track {
  background: transparent !important;
  border-radius: 999px !important;
}
#editor-anki .floating .popover .autocomplete-menu::-webkit-scrollbar-thumb {
  background: var(--accent-200) !important;
  border-radius: 999px !important;
}
#editor-anki .floating .popover .autocomplete-menu::-webkit-scrollbar-button {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}
#editor-anki .floating .popover .autocomplete-menu {
  border-radius: var(--radius-small);
}
#editor-anki .floating .popover .autocomplete-menu .autocomplete-item {
  border: none !important;
  border-bottom: 1px solid var(--border) !important;
  padding: 7px 9px;
}
#editor-anki .floating .popover .autocomplete-menu .autocomplete-item:hover {
  background: var(--bg-chip-100) !important;
  border: none !important;
  border-bottom: 1px solid var(--accent-200) !important;
}
#editor-anki .floating .popover .autocomplete-menu .autocomplete-item.selected {
  background: var(--accent-200) !important;
  border: none !important;
  border-bottom: 1px solid var(--accent-200) !important;
}
#editor-anki .floating .floating-arrow .arrow {
  background: var(--bg-popup) !important;
}
#editor-anki .tooltip .tooltip-arrow,
#editor-anki .tooltip .tooltip-inner {
  border: 1px solid var(--border-100) !important;
  background: var(--bg-popup) !important;
  color: var(--text-main) !important;
}
